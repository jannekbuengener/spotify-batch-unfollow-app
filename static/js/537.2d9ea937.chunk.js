"use strict";(self.webpackChunkspotify_batch_unfollow_app=self.webpackChunkspotify_batch_unfollow_app||[]).push([[537],{4537:function(t,e,r){r.d(e,{$s:function(){return F},tZ:function(){return $},jk:function(){return G}});var n=r(4165),a=r(5861),u=r(885),c=r(2791),s=function(t,e){for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];var i=(0,c.useState)(),f=(0,u.Z)(i,2),p=f[0],v=f[1],h=(0,c.useState)(),Z=(0,u.Z)(h,2),d=Z[0],l=Z[1],x=(0,c.useState)(!1),k=(0,u.Z)(x,2),w=k[0],m=k[1];return(0,c.useEffect)((function(){if(e){m(!0),v(void 0),l(void 0);var r=!1;return(0,a.Z)((0,n.Z)().mark((function e(){var a,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.apply(void 0,s);case 3:a=e.sent,!1===r&&(v(a),m(!1)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),"AbortError"!==(u=e.t0).name&&!1===r&&(l(u),m(!1));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))(),function(){r=!0}}}),[t,e].concat(s)),[p,w,d]},o=r(2982),i=r(6296),f=function(t,e){for(var r=arguments.length,s=new Array(r>2?r-2:0),f=2;f<r;f++)s[f-2]=arguments[f];var p=(0,c.useState)([]),v=(0,u.Z)(p,2),h=v[0],Z=v[1],d=(0,c.useState)(),l=(0,u.Z)(d,2),x=l[0],k=l[1],w=(0,c.useState)(!1),m=(0,u.Z)(w,2),b=m[0],y=m[1];return(0,c.useEffect)((function(){if(e){y(!0),Z([]),k(void 0);var r=!1;return(0,a.Z)((0,n.Z)().mark((function e(){var a,u,c,f,p,v,h;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=!1,u=!1,e.prev=3,f=function(){var t=v.value;!1===r&&Z((function(e){return[].concat((0,o.Z)(e),[t])}))},p=(0,i.Z)(t.apply(void 0,s));case 6:return e.next=8,p.next();case 8:if(!(a=!(v=e.sent).done)){e.next=13;break}f();case 10:a=!1,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),u=!0,c=e.t0;case 19:if(e.prev=19,e.prev=20,!a||null==p.return){e.next=24;break}return e.next=24,p.return();case 24:if(e.prev=24,!u){e.next=27;break}throw c;case 27:return e.finish(24);case 28:return e.finish(19);case 29:!1===r&&y(!1),e.next=36;break;case 32:e.prev=32,e.t1=e.catch(0),"AbortError"!==(h=e.t1).name&&!1===r&&(k(h),y(!1));case 36:case"end":return e.stop()}}),e,null,[[0,32],[3,15,19,29],[20,,24,28]])})))(),function(){r=!0}}}),[t,e].concat(s)),[h,b,x]},p=r(6420),v=r(608),h=r(4547),Z=function(t){return t.json()},d=r(1413),l=r(5671),x=r(3144),k=r(136),w=r(516),m=function(t){(0,k.Z)(r,t);var e=(0,w.Z)(r);function r(t,n,a){var u;return(0,l.Z)(this,r),(u=e.call(this,"Error has occurred performing the request due to error: ".concat(n," [Status Code: ").concat(t,"]")))._status=void 0,u._body=void 0,u._headers=void 0,u._status=t,u._body=n,u._headers=a,u}return(0,x.Z)(r,[{key:"status",get:function(){return this._status}},{key:"body",get:function(){return this._body}},{key:"headers",get:function(){return this._headers}}]),r}((0,r(8737).Z)(Error)),b=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e,r,u){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=(0,a.Z)((0,n.Z)().mark((function t(a,c){var s;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={attemptCount:0,maxAttemptCount:3},t.t0=y,t.t1=a,t.t2=c,t.next=6,fetch(e,r);case 6:t.t3=t.sent,t.t4=s,t.t5=e,t.t6=r,t.t7=u,(0,t.t0)(t.t1,t.t2,t.t3,t.t4,t.t5,t.t6,t.t7);case 12:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),y=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e,r,a,u,c,s,o){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.ok){t.next=4;break}e(a),t.next=18;break;case 4:if(!(u.attemptCount<u.maxAttemptCount&&_(a.status,o))){t.next=9;break}u.attemptCount++,g(e,r,a,u,c,s,o),t.next=18;break;case 9:return t.t0=r,t.t1=m,t.t2=a.status,t.next=14,a.json();case 14:t.t3=t.sent,t.t4=a.headers,t.t5=new t.t1(t.t2,t.t3,t.t4),(0,t.t0)(t.t5);case 18:case"end":return t.stop()}}),t)})));return function(e,r,n,a,u,c,s){return t.apply(this,arguments)}}(),g=function(t,e,r,u,c,s,o){setTimeout((0,a.Z)((0,n.Z)().mark((function r(){var a;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(c,s);case 2:a=r.sent,y(t,e,a,u,c,s,o);case 4:case"end":return r.stop()}}),r)}))),function(t,e){var r=t.headers.get("Retry-After")||"0";return Math.max(1e3*Math.pow(2,e.attemptCount-1),Number(r))}(r,u))},_=function(t,e){return t>=500||e&&e.indexOf(t)>=0},A=b,C=function(t){return t?"?"+Object.keys(t).filter((function(e){return void 0!==t[e]&&null!==t[e]})).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&"):""},E=function(t,e,r){return{headers:(0,d.Z)({Authorization:"Bearer ".concat(h.ZP.userToken)},e),body:t,method:r}},S=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e,r,a,u,c){var s,i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=[h.RN].concat((0,o.Z)(e)).join("/")+"/",i=C(r),t.abrupt("return",A(s+i,E(a,u,c),[429]).catch((function(t){throw 401!==t.status||h.ZP.resetToken(),t})));case 3:case"end":return t.stop()}}),t)})));return function(e,r,n,a,u){return t.apply(this,arguments)}}(),j=S,O=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e,r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Z,t.next=3,j(["me","following"],{type:"artist",limit:e,after:r});case 3:return t.t1=t.sent,t.next=6,(0,t.t0)(t.t1);case 6:return t.abrupt("return",t.sent.artists);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),T=O,M=function(){var t=(0,v.Z)((0,n.Z)().mark((function t(){var e,r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=void 0;case 1:return t.next=3,(0,p.Z)(T(h.uO,e));case 3:return r=t.sent,t.next=6,r.items;case 6:e=r.cursors.after;case 7:if(void 0!==e&&null!==e){t.next=1;break}case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=M,P=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Z,t.next=3,j(["me"]);case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=P,q=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(["me","following"],{type:"artist"},JSON.stringify({ids:e.map((function(t){return t.id}))}),{"Content-Type":"application/json"},"DELETE");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=q,B=r(7762),D=function(t,e){for(var r=[],n=0;n<t.length;n+=e)r.push(t.slice(n,Math.min(t.length,n+e)));return r},J=function(){var t=(0,v.Z)((0,n.Z)().mark((function t(e){var r,a,u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=(0,B.Z)(D(e,h.uO)),t.prev=1,r.s();case 3:if((a=r.n()).done){t.next=18;break}return u=a.value,t.prev=5,t.next=8,(0,p.Z)(z(u));case 8:return t.next=10,{failedArtists:[],succeededArtists:u};case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(5),t.next=16,{failedArtists:u,succeededArtists:[],error:t.t0};case 16:t.next=3;break;case 18:t.next=23;break;case 20:t.prev=20,t.t1=t.catch(1),r.e(t.t1);case 23:return t.prev=23,r.f(),t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[1,20,23,26],[5,12]])})));return function(e){return t.apply(this,arguments)}}(),L=J,$=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return s(R,t)},F=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return f(N,t)},G=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return f(L,e,t)}}}]);
//# sourceMappingURL=537.2d9ea937.chunk.js.map